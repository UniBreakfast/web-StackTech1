<!DOCTYPE html>
<head>
  <meta charset=UTF-8>
  <title id=mb-title> ST1 WorkFlow - MotherBoard </title>

  <script src=MotherBoard/JS/f.js>     </script>
  <script src=MotherBoard/JS/mbvars.js></script>
  <script src=MotherBoard/JS/mb.js>    </script>

  <script src=Components/strgen.js>    </script>

  <script>
    // applying options from mbvars.js to css
    // while loading it from mb.css and mbvars.css
    if (mbvars.title)
      document.getElementById('mb-title').textContent = mbvars.title;
    f.GET('MotherBoard/CSS/mb.css', mb_css => {
      f.GET('MotherBoard/CSS/mbvars.css', mbvars_css => {
        var css = mb_css + mbvars_css;
        var ids = mbvars.section_ids;
        const replace = (id1, id2) => css = css.split('#mb-'+id1).join('#'+id2);
        if (ids.mb_header ) replace('header' , ids.mb_header );
        if (ids.mb_aside  ) replace('aside'  , ids.mb_aside  );
        if (ids.mb_section) replace('section', ids.mb_section);
        if (ids.mb_footer ) replace('footer' , ids.mb_footer );
        f.link_string_as_style_tag(css, 'mb-style');
        mb();
      })
    });
  </script>


</head>
<body>
  <header  id=mb-header>   </header>
  <aside   id=mb-aside>    </aside>
  <section id=mb-section>  </section>
  <footer  id=mb-footer>   </footer>

  <script>
    // applying options from mbvars.js to DOM
    var ids = mbvars.section_ids;
    if (ids.mb_header ) f.byID('mb-header' ).id = ids.mb_header;
    if (ids.mb_aside  ) f.byID('mb-aside'  ).id = ids.mb_aside;
    if (ids.mb_section) f.byID('mb-section').id = ids.mb_section;
    if (ids.mb_footer ) f.byID('mb-footer' ).id = ids.mb_footer;
  </script>


</body>
</html>
