<!DOCTYPE html>
<head>
  <meta charset=UTF-8>
  <title>ST1 - Register</title>

  <link href=Auth/CSS/auth.css rel=stylesheet>

  <script src=Auth/JS/authvars.js></script>

</head>
<body>
  <h1>Stack Tehnologies and Techniques - Authorization</h1>
  <p>
    A simple authorization module. <br>
    It has login.htm and register.htm pages. <br>
    And <b>auth.htm (outside) and inside.htm</b> pages - <b>for illustration only.</b> <br>
    <b>authvars.js and authvars.php have to be changed on use.</b> <br>
    ifsession.js with ifsession.php are checking all inside pages for user cookie. <br>
    register.php, login.php, logout.php are serving their roles respectively. <br>
    functions.js, cookies.js and seq.php contain functions needed for module to work. <br>
  </p>

  <button onclick=location.href='login.htm'> LOG IN  </button>
  <button onclick=location.href=mainpage>    INSIDE  </button>

  <form action=Auth/PHP/register.php method=post>
    <input size=32 maxlength=32 required name=login    placeholder="new login">
    <input size=32 maxlength=32 required name=password placeholder="new password"
           type=password>
    <input style=display:inline type=checkbox onclick=show_pass()> show password <br>
    <input style=display:inline type=submit value=REGISTER>
    <span  style=display:none> this login is already occupied </span>
  </form>

  <script src=Common/JS/functions.js></script>
  <script src=Common/JS/cookies.js  ></script>
  <script src=Auth/JS/ifsession.js  ></script>
  <script>
    if (f.APIcookie.get('check')=='occupied') {
      document.forms[0].children[5].style.display = 'inline';
      document.forms[0].children[0].value = f.APIcookie.get('login');
    }
    function show_pass() {
      var checkbox = document.forms[0].children[2];
      var pass_inp = document.forms[0].children[1];
      if (checkbox.checked) pass_inp.type = 'text';
      else                  pass_inp.type = 'password';    }
  </script>

</body>
</html>
